{{ define "header" }}

<div class="mx-4  row d-flex  flex-row  justify-content-end flex-nowrapp-4 rounded " id="home-header" style="">

    <div class="col-lg-6 col-md-8 col-sm-10 " >
        <div class="card m-2 mb-5  " id="header-card">
            <div class="card-header text-center">
                <p class="h1 font-weight-bold ">STL Game Dev</p>
                <p class="lead fs-4 font-weight-bold">We are making a <strong>Home</strong> for <strong>Game Developers!</strong></p>
            </div>
            <div class="card-body">
                <p>We are a community run organization dedicated
                    to providing social, professional, and educational
                    events,
                    resources, and support for game developers in and around the St Louis region.</p>
                <p class="text-center font-weight-light fs-4">Let's make something great together!
                    {{- with resources.Get "images/stlgd-icon.svg" }}  <img src="{{ .RelPermalink }}" width="30" height="30" class="ms-1" style="vertical-align: text-bottom;" alt="STL Game Dev Icon">{{ end }} </p>
            </div>
            <div class="card-footer text-center">
                <a class=" btn btn-lg btn-primary rounded-pill " href="about">Learn more About us!</a>
            </div>
            {{/* <i class="i corner-icon ci-bottom-right fa-sharp-duotone fa-solid  fa-block-question fa-6x "></i> */}}
        </div>
    </div>
</div>
<script>
    const imageURLs = [{{ range resources.Match "images/photos/*.jpg" }}"{{ .RelPermalink }}", {{ end }}];

    $(document).ready(function () {
        var randomIndex = Math.floor(Math.random() * imageURLs.length);

        $('#home-header').css('background-image', 'url(' + imageURLs[randomIndex] + ')');
    });
</script>
{{ end }}

{{ define "middle" }}
<div class="card text-white my-5 py-4 text-center">
    <div class="card-body">
        Something Here
    </div>
</div>
{{ end }}

{{ define "main" }}
<section class="row gx-4 gx-lg-5">
    <div class="col-md-8 mb-5 ">
        <div class="card   mb-5">
            {{ with (index (where site.RegularPages "Type" "news").ByDate.Reverse 0) }}
            <article>
                <div class="card-header">
                    <h4 class="card-title">Latest News Article</h4>
                    <div class="d-flex flex-row align-items-center">
                        <div class="flex-grow-1">
                            <h2><a href="{{ .RelPermalink }}">{{ .Title }}</a></h2>
                        </div>
                        <div class="post-meta">
                            {{ .Date.Format "Mon, Jan 2, 2006" }}
                        </div>
                        <div class="fa-2x ">
                            <span class="fa-layers fa-fw">
                                <i class="i fa-sharp-duotone fa-solid fa-calendar"></i>
                                <span class="fa-layers-text fa-inverse --fa-right" data-fa-transform="shrink-8 down-3"
                                    style="font-weight:900">{{ .Date.Format "2" }}</span>
                            </span>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-6">
                            {{ partial "authors.html" (dict "taxonomy" "authors" "page" .) }}
                        </div>
                        <div class="col-6 text-end">
                            {{ partial "terms.html" (dict "taxonomy" "tags" "page" .) }}
                        </div>
                    </div>
                </div>
                <div class="card-body">
                    {{ .Summary }}
                </div>
                {{ if .Truncated }}
                <div class="card-footer text-end ">
                    <a class=" btn btn-primary rounded-pill" href="{{ .RelPermalink }}">Read More</a>
                </div>
                {{ end }}

            </article>
            {{ end }}
            {{/* <i class="i corner-icon ci-bottom-left fa-sharp-duotone fa-solid fa-alien-8bit fa-6x "></i> */}}
        </div>
        {{ with (index (where site.RegularPages "Type" "blog").ByDate.Reverse 0) }}
        <div class="card mb-5">
            <article>
                <div class="card-header">
                    <h4 class="card-title">Latest News Article</h4>
                    <div class="d-flex flex-row align-items-center">
                        <div class="flex-grow-1">
                            <h2><a href="{{ .RelPermalink }}">{{ .Title }}</a></h2>
                        </div>
                        <div class="post-meta">
                            {{ .Date.Format "Mon, Jan 2, 2006" }}
                        </div>
                        <div>
                            <span class="fa-layers fa-fw">
                                <i class="i fa-sharp-duotone fa-solid fa-calendar"></i>
                                <span class="fa-layers-text fa-inverse --fa-right" data-fa-transform="shrink-8 down-3"
                                    style="font-weight:900">{{ .Date.Format "2" }}</span>
                            </span>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-6">
                            {{ partial "authors.html" (dict "taxonomy" "authors" "page" .) }}
                        </div>
                        <div class="col-6 text-end">
                            {{ partial "terms.html" (dict "taxonomy" "tags" "page" .) }}
                        </div>
                    </div>
                </div>
                <div class="card-body">
                    {{ .Summary }}
                </div>
                {{ if .Truncated }}
                <div class="card-footer text-end ">
                    <a class=" btn btn-primary  rounded-pill" href="{{ .RelPermalink }}">Read More</a>
                </div>
                {{ end }}
            </article>
        </div>
        {{ end }}
    </div>

    <div class="col-md-4 mb-5 ">

        <div class="card mb-5 ">
            <div class="card-header">
                <h4 class="card-title">Next Event</h4>
            </div>
            <div class="card-body">
                {{ partial "next-event.html" . }}
            </div>
            <div class="card-footer justify-content-end d-flex"><a class="btn btn-primary btn-sm rounded-pill " href="events">More
                    Events</a></div>
        </div>

        <div class="card mb-5">
            <div class="card-body text-center">
                <p class="card-title h4">Connect with our Community!</p>
                <p class="card-text">Join the conversation over on our Discord!</p>
    
                <div><a class="btn py-3 px-6 btn-lg btn-primary rounded-pill w-100 fs-3" href="https://discord.com/invite/mTMKpre/"><i
                            class="fa-brands fa-discord pe-1"></i> Join</a></div>
            </div>
        </div>

{{ partial "latest-roundup.html" . }}


    </div>
</section>
{{ end }}