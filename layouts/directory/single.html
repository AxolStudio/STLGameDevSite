{{ define "header" }}
<div class="row mt-3">

    {{/* <i class="i corner-icon ci-top-right fa-sharp-duotone fa-solid fa-address-book fa-6x "></i> */}}

    <h1 class="font-weight-light text-center">Developer Directory</h1>
    <p class="lead text-center">This is a list of developers in our community!</p>
    <p class="text-center">If you would like to add your own project(s) to this list, follow the directions on our website's <a href="https://github.com/AxolStudio/STLGameDevSite" target="_blank"><i class="i fa-brands fa-github"></i> repository!</a></p>

</div>
{{ end }}

{{ define "main" -}}
<div class="container-fluid">
    <div class="row">
        {{ $directory := .Site.Data.directory }}
        {{ $directory := sort $directory "Name" "asc" }}
        {{- range $directoryItem := $directory }}
        {{- with $directoryItem }}

        <div class="col col-lg-6 p-2">
            <div class="card h-100 d-flex flex-column">
            <div class="card-header d-flex align-items-center">
                    <!-- Icon or Placeholder -->
                    {{ if $directoryItem.Logo }}
                    {{ $logo := resources.Get (printf "images/directory/%s" $directoryItem.Logo ) }}
                    {{ $logo := $logo.Fill "60x60" }}
                    {{ $logoLink := $logo.RelPermalink }}
                    <img src="{{ $logoLink }}" class="rounded-circle me-3" alt="Logo" />
                    {{ else }}
                    <div
                            class="d-inline-block rounded-circle bg-dark me-3"
                            style="width: 60px; height: 60px; aspect-ratio: 1 / 1;">
                    </div>

                    {{ end }}

                    <!-- Text centered relative to the icon -->
                    <span class="flex-grow-1">{{ $directoryItem.Name }}</span>
                </div>

                <div class="card-body flex-grow-1">
                    <p class="card-text">
                        {{ if $directoryItem.Description}}
                        {{ $directoryItem.Description }}
                        {{ end}}
                    </p>
                    <h3>Projects</h3>
                    <div>
                        <div id="carouselExample{{ $directoryItem.Name }}" class="carousel slide">
                            <div class="carousel-inner">
                                {{- range $directoryItem.Projects }}
                                {{ partial "showcase.html" . }}
                                {{ end -}}
                            </div>
                            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExample" data-bs-slide="prev">
                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Previous</span>
                            </button>
                            <button class="carousel-control-next" type="button" data-bs-target="#carouselExample" data-bs-slide="next">
                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Next</span>
                            </button>
                        </div>
                    </div>
                </div>
                <div class="card-footer">
                    {{ if $directoryItem.Website }}
                    <dd class="text-secondary text-small"><a href="{{ $directoryItem.Website }}" target="_blank">Website</a></dd>
                    {{ end }}
                </div>
            </div>
        </div>

        {{- end -}}
        {{- end -}}
    </div>
</div>
{{- end -}}

